
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Ember.js, random thoughts, journal  | machty's thoughtz</title>

<meta name="author" content="Alex Matchneer"> 

<meta name="description" content="I'm on Ember core and contribute to lots of stuff prefixed with "Em"."> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="machty's thoughtz" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">machty's thoughtz</a></h1>
<h4>Ember.js, random thoughts, journal</h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/archives">Archive</a></li>
	<li>
    <span>
    <a href="http://www.cram.com/flashcards/alexmatchneercom-4692833" target="_blank">Flashcards</a>
    </span>
    <span>
    (<a href="/blog/2014/04/12/blog-flashcards/">explanation</a>)
    </span>
  </li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/archives">Archive</a></li>
	<li>
    <span>
    <a href="http://www.cram.com/flashcards/alexmatchneercom-4692833" target="_blank">Flashcards</a>
    </span>
    <span>
    (<a href="/blog/2014/04/12/blog-flashcards/">explanation</a>)
    </span>
  </li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:machty.github.com">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/25/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h3>Web Notifications</h3>

<p><a href="https://github.com/stefanpenner/ember-cli/pull/804">Web notifications were added to ember-cli</a>
not long ago, and I forgot they were a thing. IRRCloud uses them too.
Like so many other new HTML5-y things, there&#8217;s a
<a href="http://www.w3.org/TR/notifications/">spec</a> for web notifications.
Basically, you ask for permissions and then you can broadcast.</p>

<h3>Not invented here (NIH)</h3>

<p><a href="http://en.wikipedia.org/wiki/Not_invented_here">Wikipedia</a></p>

<p>Antonym: Proudly Found Elsewhere (PFE)</p>

<p>Often a criticism of OSS communities reinventing the wheels in
already-solved problem spaces.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-25T13:26:00-04:00" pubdate data-updated="true">May 25<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/web-notifications/'>Web notifications</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/24/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h3>Enterprise Integration Patterns</h3>

<p>Reading this here Fowler book.</p>

<p>Operating systems have begun to ship with messaging middleware and
related tools:</p>

<ul>
<li>Windows: MS Message Queueing (MSMQ), accessible via APIS like COM
components and System.Messaging (part of .NET).</li>
</ul>


<p>Application Servers</p>

<ul>
<li>Java Messaging Service (JMS)</li>
</ul>


<p>EAI (Enterprise Application Integration) suites:</p>

<ul>
<li>IBM WebSphere MQ</li>
<li>Microsoft BizTalk</li>
<li>TIBCO</li>
<li>WebMethods</li>
<li>SeeBeyond</li>
<li>Vitria</li>
<li>CrossWorlds</li>
</ul>


<p>Many of the above include JMS as a supported client API, while
others focus on implementing merely JMS-compliant infrastructures.</p>

<h3>Pro Git</h3>

<h4>VCS: Version Control System</h4>

<p>Keeps patch sets between versions of files, reconstruct a version be
applying/unapplying patches. Example: <code>rcs</code>.</p>

<p>Git&#8217;s predecessor was BitKeeper, whose free-of-charge status was
revoked in 2005.</p>

<h4>git config</h4>

<p><code>git config lol.wat "imadork"</code></p>

<p>will put the following into <code>./.git/config</code>:</p>

<pre><code>[lol]
  wat = imadork
</code></pre>

<p>what if you did <code>git config a.b.c lol</code> ?</p>

<pre><code>[a "b"]
  c = lol
</code></pre>

<p>followed by <code>git config a.b.z lol</code>:</p>

<pre><code>[a "b"]
  c = lol
  z = lol
</code></pre>

<p>So basically <code>git config</code> just prettily formats things into groups using
everything about the key you provide except the trailing segment. Makes
sense.</p>

<h4>Staging</h4>

<p>Staging means you&#8217;re building up snapshots for a commit. By the time you
commit, you&#8217;re just creating a commit object with meta data that points
to that same snapshot.</p>

<h4>Simple git repo hosting via HTTP</h4>

<p>You can host a git repo via HTTP file hosting, which implies:</p>

<ul>
<li>anonymity (no authentication, no way to know who&#8217;s cloning your repo)</li>
<li>read-only access (can&#8217;t push, unless doing crazy WebDAV things)</li>
</ul>


<p>So just for fun, here&#8217;s the simplest number of steps to push to a
localhost http git server.</p>

<ol>
<li>Create bare repo: <code>git init --bare fun.git</code>. This creates a folder
called <code>/fun.git</code>. The <code>.git</code> extension is optional, but
conventional.</li>
<li>Start a server hosting <code>ruby -run -e httpd . -p 5000</code></li>
<li>Try and clone via http: <code>git clone http://localhost:5000/fun.git</code></li>
</ol>


<p>This will give you an error:</p>

<pre><code>fatal: repository 'http://localhost:5000/fun.git/' not found
</code></pre>

<p>and your Ruby server will show the log</p>

<pre><code>[2014-05-25 12:03:13] ERROR `/fun.git/info/refs' not found.
localhost - - [25/May/2014:12:03:13 EDT] "GET /fun.git/info/refs?service=git-upload-pack HTTP/1.1" 404 287
- -&gt; /fun.git/info/refs?service=git-upload-pack
</code></pre>

<p>So it&#8217;s looking for files that aren&#8217;t there. If you look at various
git manuals, it&#8217;ll tell you something about how you should
<code>mv hooks/post-update.example hooks/post-update</code> and give it executable
chmod permissions, but even if you do that and try and clone again,
it&#8217;ll fail.</p>

<p>The reason for the failure is that there are static files that need to
be generated in order for a plain ol static http git hosting solution to
work, and these files haven&#8217;t been generated yet. If you enabled the
<code>post-update</code> hook and then pushed to the repo via some other means,
those files would be generated, but just to get this example working,
you can <code>cd</code> into <code>fun.git</code> and run</p>

<pre><code>sh fun.git/hooks/post-update.example
</code></pre>

<p>or you can just run the single command that the above script runs:</p>

<pre><code>git update-server-info
</code></pre>

<p>Then when you <code>git clone http://localhost:5000/fun.git</code>, the clone will
succeed (though the repo&#8217;s still totally empty).</p>

<h3><code>ruby -run</code></h3>

<p>Also, here&#8217;s the breakdown of the <code>ruby -run -e httpd . -p 5001</code></p>

<ul>
<li>There&#8217;s a very intentionally-named Ruby library called <code>un</code>, which
<a href="http://ruby-doc.org/stdlib-2.0.0/libdoc/un/rdoc/index.html">contains some useful tools</a></li>
<li>The <code>-r</code> option requires the following lib; <code>-run</code> requires <code>un.rb</code>,
which is part of the Ruby standard library.</li>
<li><code>un.rb</code> contains top-level method definitions, like <code>httpd</code></li>
<li><code>-e httpd</code> executes the top-level <code>httpd</code> method in <code>un.rb</code>, which
makes use of the rest of the command line args provided: <code>. -p 5001</code>,
and starts up a WEBBrick server.</li>
</ul>


<p>Here&#8217;s another dumb example of a <code>ruby -r</code>:</p>

<p>Put a file named <code>aunchy.rb</code> with the following contents into new
subdirectory <code>ma</code>:</p>

<pre><code>def lephant
  puts "i am so raunchy"
end
</code></pre>

<p>Then run <code>ruby -Ima -raunchy -elephant</code>:</p>

<pre><code>i am so raunchy
</code></pre>

<p>This works because</p>

<ul>
<li><code>-Ima</code> adds <code>ma</code> to the load path (which <code>require</code> uses)</li>
<li><code>-raunchy</code> requires <code>aunchy.rb</code></li>
<li><code>-e</code> executes the method <code>lephant</code></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-24T07:56:00-04:00" pubdate data-updated="true">May 24<span>th</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/22/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Array Computed / Reduce Computed</h2>

<p>The difference between reduce computed properties and array computed
properties in Ember is that reduce computed properties will boil down
the contents of an array to <em>some value</em> using one-at-a-time semantics;
Array CPs are Reduce CPs that happen to boil down to: other arrays.</p>

<p>So you can&#8217;t write a &#8220;sum&#8221; Array Computed; you&#8217;d just use reduce
computed for that. And you <em>could</em> write your own hand-crafted &#8220;filter&#8221;
reduced CP, but why not use the Array Computed API for that?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-22T14:08:00-04:00" pubdate data-updated="true">May 22<span>nd</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/array-computed-reduce-computed/'>Array Computed / Reduce Computed</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/19/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Active Model: GlobalID</h2>

<p>https://github.com/rails/activemodel-globalid/</p>

<p>GlobalID is a way of serializing a model into a string so that
it can be looked up later; rather than serializing all of the
object&#8217;s data into a string, you merely serialize just enough
information so that you can look up the rest.</p>

<p>I&#8217;m already doing something similar with model dep state in Ember,
only extending it such that part of the &#8220;GlobalID&#8221;, which we&#8217;ll
use internally for binding into a cache bucket, might be a prefixing
controller name to uniquely identify a cache bucket to a specific
controller, but in cases where you want to share information about
a model with other controllers, you&#8217;d leave this prefix off.</p>

<p>Anyway, nice to see other folk arriving at a similar thing, though
I personally wouldn&#8217;t call this sort of thing &#8220;serializing&#8221; but rather
&#8220;paramaterizing&#8221;, since you&#8217;re not actually storing all the data in
string form but just enough to uniquely identify it so that some
other operation can restore the object.</p>

<h2>Strings have read-only props in &#8220;use strict&#8221; Safari</h2>

<p>The following throws an exception only in Safari (not Chrome or FF):</p>

<pre><code>(function(){"use strict"; ("a").b = 'writing to a string'; })();
TypeError: Attempted to assign to readonly property.
</code></pre>

<p>But not if you leave off the &#8220;use strict&#8221;.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-19T07:38:00-04:00" pubdate data-updated="true">May 19<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/global-id/'>global id</a>, <a class='category' href='/blog/categories/use-strict/'>use strict</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/15/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Uniform Type Identifiers</h2>

<p>Turns out I never understood why Java and other languages/frameworks
embraces this style of &#8220;com.domain.somepackage&#8221;. First off, this is
called <a href="http://en.wikipedia.org/wiki/Reverse_domain_name_notation">Reverse domain name notation</a>.</p>

<p>The purpose of this naming convention is two-fold:</p>

<h4>Avoids naming collisions from two different vendors</h4>

<p>By prefixing the package name with any sort of
unique identifier, &#8220;SOME-PREFIX-A.packageName&#8221; won&#8217;t conflict with
&#8220;SOME-PREFIX-B.packageName&#8221;.</p>

<h4>Sensible sort order / grouping</h4>

<p>You want packages from the same
vendor to be grouped together in sensible way; if you use the <code>apple</code>
and <code>carrots</code> packages from <code>food.somevendor.com</code> and the <code>bikes</code> package
from <code>things.somevendor.com</code>, if you didn&#8217;t reverse the domain order, you might
end up with the following folder structure</p>

<pre><code>food/
  somevendor/
    com/
      apple
      carrots
things/
  somevendor/
    com/
      bikes
</code></pre>

<p>This is undesirable since you can&#8217;t tell from this structure that apple,
bikes, and carrots all come from somevendor. Also, you there&#8217;s a
needless repetition of the <code>somevendor/com</code> path in both directory
trees. If the domain name were inverted, you&#8217;d end up with:</p>

<pre><code>com/
  somevendor/
    food/
      apple
      carrots
    things/
      bikes
</code></pre>

<p>Less folders, less repetition, and more information is being conveyed.</p>

<p>Another way to think about it is that domain names are somewhat
backwards; we know that <code>.com</code>, <code>.net</code>, and
<a href="http://sandwich.technology"><code>.technology</code></a> are top-level domains (TLD),
but how/why is something top level appended at the end of a name? It
definitely makes domain names with subdomains harder to sort in a
meaningful way. I guess there&#8217;s probably a good reason for this, worth
investigating in another journal entry.</p>

<p>Another good/quick SO explanation: http://stackoverflow.com/a/2475191/914123</p>

<h2>LevelDB</h2>

<ul>
<li>require(&#8216;leveldbdatabase&#8217;)</li>
<li>key value pair</li>
<li>scales, web scale</li>
<li>PolicyMic is sponsoring folk to work on it</li>
<li>IMPORTANT: is a library; you can wrap leveldb entirely in an app via C++ API, whereas Redis is a database server that you communicate with via a custom binary protocol</li>
</ul>


<h2>Vim: Visual Line</h2>

<p>Shift-V in vim goes into visual line mode, which means you select entire
lines for yanking/cutting, rather than having to precisely position your
cursor at the beginning or end of a line so as to not accidentally yank/cut
only part of a line.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-15T11:38:00-04:00" pubdate data-updated="true">May 15<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/uniform-type-identifiers/'>Uniform Type Identifiers</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/13/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Sharing ignored blank password fields in ActiveAdmin</h2>

<p>I use ActiveAdmin for some stuff, and often you want to update
some resource while leaving its password the same, but if you have
a password field on the form, the form will POST with empty password
and empty confirmation you&#8217;ll get a validation error from an empty
password. You can override this with a <code>controller</code> block in your
ActiveAdmin resource config via:</p>

<pre><code>controller do
  def update
    param_obj = params['admin_user']
    if param_obj[:password].blank?
      param_obj.delete("password")
      param_obj.delete("password_confirmation")
    end
    super
  end
end
</code></pre>

<p>But if you have multiple Devise-esque resources with passwords, it&#8217;d be
nice to share this with multiple resources. It&#8217;s a bit tricky to solve
this with idiomatic Ruby since you&#8217;re already in ActiveAdmin&#8217;s DSL land,
but the following works:</p>

<p><code>/lib/admin/ignore_blank_password.rb</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">Admin</span>
</span><span class='line'>  <span class="k">module</span> <span class="nn">IgnoreBlankPassword</span>
</span><span class='line'>    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">ignore</span><span class="p">(</span><span class="n">dsl</span><span class="p">)</span>
</span><span class='line'>      <span class="n">dsl</span><span class="o">.</span><span class="n">instance_eval</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">controller</span> <span class="k">do</span>
</span><span class='line'>          <span class="k">def</span> <span class="nf">update</span>
</span><span class='line'>            <span class="n">param_key</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">model_name</span><span class="o">.</span><span class="n">param_key</span><span class="o">.</span><span class="n">to_sym</span>
</span><span class='line'>            <span class="n">param_obj</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="n">param_key</span><span class="o">]</span>
</span><span class='line'>            <span class="k">if</span> <span class="n">param_obj</span><span class="o">[</span><span class="ss">:password</span><span class="o">].</span><span class="n">blank?</span>
</span><span class='line'>              <span class="n">param_obj</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">)</span>
</span><span class='line'>              <span class="n">param_obj</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;password_confirmation&quot;</span><span class="p">)</span>
</span><span class='line'>            <span class="k">end</span>
</span><span class='line'>            <span class="k">super</span>
</span><span class='line'>          <span class="k">end</span>
</span><span class='line'>        <span class="k">end</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>/app/admin/admin_user.rb</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;admin/ignore_blank_password&#39;</span>
</span><span class='line'><span class="no">ActiveAdmin</span><span class="o">.</span><span class="n">register</span> <span class="no">AdminUser</span> <span class="k">do</span>
</span><span class='line'>  <span class="no">Admin</span><span class="o">::</span><span class="no">IgnoreBlankPassword</span><span class="o">.</span><span class="n">ignore</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-13T13:15:00-04:00" pubdate data-updated="true">May 13<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/active-admin/'>Active Admin</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/12/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Ruby <code>Module#===</code></h2>

<p>Ran into <a href="https://github.com/hassox/warden/blob/master/lib/warden.rb#L33-L34">this piece of
code</a>
from the Warden repo:</p>

<pre><code>def self.test_mode!
  unless Warden::Test::WardenHelpers === Warden
    Warden.extend Warden::Test::WardenHelpers
    Warden::Manager.on_request do |proxy|
      unless proxy.asset_request?
        while blk = Warden._on_next_request.shift
          blk.call(proxy)
        end
      end
    end
  end
  true
end
</code></pre>

<p>I hadn&#8217;t seen this usage of <code>===</code> before; I&#8217;m mostly familiar with it as
an unidiomatic alias of <code>is_a?</code>, e.g.:</p>

<pre><code>Array === []    #=&gt; true
[].is_a?(Array) #=&gt; true
</code></pre>

<p><code>#===</code> is the Case Equality operator or
<a href="http://stackoverflow.com/questions/4527220/3-equals-or-case-equality-operator"><em>subsumption</em> operator</a>;
it is overridden by subclasses to provide context-specific / semantic
meaning, for example:</p>

<ul>
<li><code>Regexp === /asd/</code> #=> true</li>
<li><code>Fixnum === 5</code> #=> true</li>
<li><code>Object === {}</code> #=> true</li>
</ul>


<p>Important things to keep in mind about <code>===</code>:</p>

<ol>
<li>It is not commutative (A===B does not imply B===A)</li>
<li>It is a method of the object on the left side of an expression,
e.g. <code>A===B</code> is shorthand for <code>A.===B</code> or <code>A.send(:===, //)</code></li>
<li>It has nothing to do with equality; beware, JavaScripters.</li>
</ol>


<p>ANYWAY: back to the Warden example: in this case, the <code>Module</code> class has
an instance method <code>===</code> that returns if the object on the right side
has extended the methods on the Module that <code>===</code> is called on, so:</p>

<pre><code>module M; end
class Foo; end

f = Foo.new
M === f #=&gt; false

# reopen
class Foo
  include M
end

M === f #=&gt; true
</code></pre>

<p>So we turned <code>===</code> from false to true by including <code>M</code> on class <code>Foo</code>.
The Warden example is similar, except that the way the module&#8217;s methods
were mixed in was via <code>extend</code> vs <code>include</code>. <code>extend</code> is a somewhat more
direct form of <code>include</code> in that it can be called on instances to put
methods directly on that instance, rather than having to open an
instance&#8217;s class and add an <code>include</code> statement, which adds all of those
methods to subclasses.</p>

<p>So when we check</p>

<pre><code>  Warden::Test::WardenHelpers === Warden
</code></pre>

<p>this is the same as <code>WardenHelpers.=== Warden</code>, which translates to
&#8220;return true if Warden has all of WardenHelpers&#8217; methods&#8221;.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-12T13:14:00-04:00" pubdate data-updated="true">May 12<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/ruby/'>Ruby</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/04/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Vim surround</h2>

<p>https://github.com/tpope/vim-surround</p>

<ul>
<li>ysiw] : surround a word in ]</li>
<li>ysiW] : surround a chunk word in ]</li>
<li>cs&#8221;&#8217; : change surrounding &#8221; to &#8217;</li>
<li>ds&#8221; : delete surrounding &#8221;</li>
<li>yss( : wrap line in parens</li>
</ul>


<h2>DAS: Conflicting Principles</h2>

<ul>
<li>User/profile/account

<ul>
<li>All this other stuff that relates to that single giant model</li>
</ul>
</li>
<li>User

<ul>
<li><code>disable!</code></li>
<li><code>send_disable_notication</code></li>
</ul>
</li>
<li>Law of demeter

<ul>
<li>Motivation for decomposition</li>
<li>move controller logic to model <code>enforce_good_standing!</code></li>
</ul>
</li>
<li>User model will get huge; lots of complexity there.</li>
<li>Pull out service classes, e.g. GoodStandingPolicy, or
AccountStandingPolicy

<ul>
<li><code>#initialize(user)</code></li>
<li><code>enforce!</code>

<ul>
<li>still breaks law of demeter.</li>
<li>change <code>cards.all?(&amp;:invalid?)</code> to <code>all_cards_invalid?</code></li>
<li>but this breaks Tell Don&#8217;t Ask

<ul>
<li>TDA means asking an object about properties and deciding what to
do instead of telling it to do things and giving it enough info
to do so.</li>
</ul>
</li>
<li>TDA vs Single Responsibility Principle (SRP)?

<ul>
<li>If you follow TDA, you end up putting responsibility back into
User class, but now User class has much responsibility</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Pick one: SRP often makes sense</li>
</ul>


<h2>DAS: Wrapping Third Party APIs</h2>

<ul>
<li>e.g. accepting Braintree payment from secure redirect back to your
site with data in QPs</li>
<li>BrainTree API objects are deeply nested, causes handling code to suffer</li>
<li>Goal: move traversal of these objs to a different class.</li>
<li>Spec

<ul>
<li>Had to stub deeply nested crap</li>
</ul>
</li>
<li>TDD

<ul>
<li>it &#8220;konws the newest credit card&#8221;</li>
<li>qp is a stub</li>
</ul>
</li>
</ul>


<h2>Pend-out an Rspec test</h2>

<pre><code>it "does something" {}
</code></pre>

<p>can be made pending via <code>xit</code></p>

<pre><code>xit "does something" {}
</code></pre>

<h2>Cisgender</h2>

<p>http://en.wikipedia.org/wiki/Cisgender</p>

<blockquote><p>Cisgender and cissexual (often abbreviated to simply cis) describe
related types of gender identity where an individual&#8217;s experience of
their own gender matches the sex they were assigned at birth.</p></blockquote>

<h2>Hypermedia API</h2>

<p>Hyper = above</p>

<p>Media = well, media, but not just hypertext because more things than
just text can be conveyed</p>

<p>Examples:</p>

<ul>
<li>http://jsonapi.org/</li>
<li>HAL - Hypermedia Application Language</li>
</ul>


<p>Why JSON API over HAL? http://jsonapi.org/faq/</p>

<ul>
<li>HAL embeds child docs recursively; JSON API flattens the entire graph
at the top level.</li>
<li>JSON API uses IDs for linkage (as opposed to HAL&#8217;s what)?</li>
<li>See <a href="https://github.com/dgeb">Dan Gebhart</a>&#8217;s response here re linkage:
https://github.com/json-api/json-api/pull/123/files#r12265234</li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-04T10:11:00-04:00" pubdate data-updated="true">May 4<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/das/'>DAS</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/01/daily-journal-2/">
		
			Daily Journal 2</a>
	</h2>
	<div class="entry-content">
		<h2>Cryptoballs</h2>

<pre><code>openssl speed rsa
openssl speed aes
</code></pre>

<h3>RSA</h3>

<p>Encryption key is public. Decryption key is secret.
Used for generating symmetric key in TLS.</p>

<p>AES is way faster (TODO: wat?).</p>

<h2>Active-model serializers</h2>

<p>How do tell an attribute to use a serializer?</p>

<p>Trick question: you don&#8217;t; rather, if it has a serializer, it&#8217;s probably
an association, not an attribute, so you probably want something like</p>

<pre><code>has_many :action_items, serializer: ActionItemSerializer
has_one :originator, serializer: OriginatorSerializer
</code></pre>

<p>and in both cases you can probably remove <code>serializer</code> once you de-stub
<code>action_items</code> and <code>originator</code>.</p>

<h2>QUnit filter</h2>

<p>In Mocha JS test suites if you click a suite header, it&#8217;ll run tests
only from that module or children by way of a <code>grep=blahlbahbl</code> query
param. I&#8217;m using <a href="https://github.com/square/qunit-bdd">qunit-bdd</a>, which
is a layer over QUnit, which generates a bunch of concatenated module
names based on the nested <code>describe</code>s and <code>context</code>s, which doesn&#8217;t let
you easily run all the nested child modules of a top-level describe if
you&#8217;re used to using the Module dropdown on the upper right.</p>

<p>If you want to run a family of describe modules, you can manually
provide a <code>filter</code> query param, e.g.:</p>

<pre><code>http://localhost:4200/tests?filter=LiveQuery
</code></pre>

<p>This runs all modules w &#8220;LiveQuery&#8221; is part of their name.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-01T22:46:00-04:00" pubdate data-updated="true">May 1<span>st</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/01/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Normalize / Denormalize</h2>

<p>From <a href="http://en.wikipedia.org/wiki/Database_normalization">Wikipedia</a>:</p>

<p>Database normalization is the process of organizing the fields and
tables of a relational database to minimize redundancy.</p>

<p>Source: Gary Bernhardt saying &#8220;we denormalize by passing in
<code>person_name</code> in addition to the person object&#8221;. Normalizing means
keeping all the data in one place, reducing redundancy. Denormalizing
means redundancy, which normally affords</p>

<p><a href="http://en.wikipedia.org/wiki/Denormalization">Denormalization</a>:</p>

<blockquote><p>In computing, denormalization is the process of attempting to
optimize the read performance of a database by adding redundant
data or by grouping data. In some cases, denormalization
is a means of addressing performance or scalability in relational
database software.</p></blockquote>

<p>Generally speaking, denormalizing means you&#8217;ve duplicated some piece of
data for some reason, probably optimization.</p>

<h2>Stub a method in ruby</h2>

<p>As simple as</p>

<pre><code>def stubbed_method(*args)
  # accept any number of args, do nothing with them.
end
</code></pre>

<h2>Use <code>fetch</code>, not <code>[]</code> for <code>Hash</code> / <code>Array</code></h2>

<p>I already know this, just keep on forgetting to use it;</p>

<pre><code>{}[123] # =&gt; nil
{}.fetch(123) # =&gt; KeyError: key not found: 123
</code></pre>

<h2>Directory stack: <code>pushd</code> / <code>popd</code></h2>

<p>Forgot about this from my Bloomberg days; use <code>pushd</code> and <code>popd</code> for
saving which directory you&#8217;re in (<code>pushd</code>) so that you can screw around,
change directories, and then ultimately <code>popd</code> back to whichever directory
you were in before you ran <code>pushd</code>.</p>

<pre><code>cd /foo/bar/baz
pushd /some/other/dir
pwd # =&gt; /some/other/dir
cd /go/to/some/strange/land
popd
pwd # =&gt; /foo/bar/baz
</code></pre>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-01T08:59:00-04:00" pubdate data-updated="true">May 1<span>st</span>, 2014</time></div>
	


	
</div></article>

<nav id="pagenavi">
    
        <a href="/blog/page/3/" class="prev">Prev</a>
    
    
        <a href="/blog/page/5/" class="next">Next</a>
    
    <div class="center"><a href="/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Alex Matchneer

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'usefuldude';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-49928757-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>

