
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Ember.js, random thoughts, journal  | machty's thoughtz</title>

<meta name="author" content="Alex Matchneer"> 

<meta name="description" content="I'm on Ember core and contribute to lots of stuff prefixed with "Em"."> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="machty's thoughtz" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">machty's thoughtz</a></h1>
<h4>Ember.js, random thoughts, journal</h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/archives">Archive</a></li>
	<li>
    <span>
    <a href="http://www.cram.com/flashcards/alexmatchneercom-4692833" target="_blank">Flashcards</a>
    </span>
    <span>
    (<a href="/blog/2014/04/12/blog-flashcards/">explanation</a>)
    </span>
  </li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/archives">Archive</a></li>
	<li>
    <span>
    <a href="http://www.cram.com/flashcards/alexmatchneercom-4692833" target="_blank">Flashcards</a>
    </span>
    <span>
    (<a href="/blog/2014/04/12/blog-flashcards/">explanation</a>)
    </span>
  </li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:machty.github.com">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/13/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>HTML is an API, getAttribute</h2>

<p>HTML is just a string of characters that get converted into DOM. You can
also create DOM via the JavaScript DOM API. Seems like an obvious thing
I guess but it just clicked for me.</p>

<p>What&#8217;s an attribute? It&#8217;s any key-value pair (or occasional boolean)
within an open tag.</p>

<pre><code>&lt;div id="lol" snaggletooth="blorg"&gt;&lt;/div&gt;
</code></pre>

<p><code>id</code> and <code>snaggletooth</code> are attributes. During HTML parsing, the browser
will convert this isn&#8217;t an HTML element (which is a node). HTML elements
have a fixed set of <em>properties</em>. All the <em>attributes</em> you provide in
your HTML that map to known properties will set the values of those
properties, hence <code>.id</code> gets set to &#8220;lol&#8221;, but <code>.snaggletooth</code> would
yield <code>undefined</code>, because that&#8217;s obviously not a real property name.</p>

<p>http://jsbin.com/bejog/1/edit</p>

<p>This also explains why you can set an <code>&lt;input&gt;</code>&#8217;s value to &#8220;wat&#8221;, then
type in a new value in the input field, and <code>getAttribute("value")</code> will
still yield <code>"wat"</code> even though <code>inputElement.value</code> will equal whatever
you typed in.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-07-13T15:18:00-04:00" pubdate data-updated="true">Jul 13<span>th</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/08/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<p>This blog left intentionally blank. There are flashcards about browser
networking attached to it.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-07-08T14:31:00-04:00" pubdate data-updated="true">Jul 8<span>th</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/05/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Bandwidth</h2>

<p>Grigorik&#8217;s book confused me when he switched from the bits/second
definition of bandwidth to the more signal processing definition.</p>

<pre><code>http://en.wikipedia.org/wiki/Bandwidth_(computing)
vs
http://en.wikipedia.org/wiki/Bandwidth_(signal_processing)
</code></pre>

<p>Computing bandwidth refers to bits/s. Signal bandwidth is the difference
in the max and min Hz that you transmit on.</p>

<p>This is interesting:</p>

<blockquote><p>A key characteristic of bandwidth is that any band of a given width can
carry the same amount of information, regardless of where that band is
located in the frequency spectrum. For example, a 3 kHz band
can carry a telephone conversation whether that band is at baseband
(as in a POTS telephone line) or modulated to some higher frequency.</p></blockquote>

<p>My understanding of this is that regardless of the modulation alphabet
you use, modulation will always cause a signal to vary between a
minimumm and maximum frequency, which determines the bandwidth of a
signal. For example, transmitting a &#8220;01&#8221; might mean squeezing the waves
together tightly until the next &#8220;letter&#8221; to transmit, and the tightest
those waves are squeezed determines the maximum frequency, while &#8220;10&#8221;
might might loosening the waves, and other letters could be some
combination of the two, but the key thing here is that bandwidth
determines the min and max frequencies that those waves can compress
or expand to; any more and you might be interfering with someone else&#8217;s
band.</p>


		
		<a href="/blog/2014/07/05/daily-journal/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-07-05T16:44:00-04:00" pubdate data-updated="true">Jul 5<span>th</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/01/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>window vs document events</h2>

<p><code>window</code> and <code>document</code> have different events. Duh.</p>

<p><code>window</code>:</p>

<ul>
<li>resize</li>
</ul>


<p><code>document</code>:</p>

<ul>
<li>DOMContentLoaded</li>
</ul>


<p>Breakdown of events and their originators:</p>

<p>https://developer.mozilla.org/en-US/docs/Web/Events</p>

<p>Fun fact: DOMContentLoaded is considered a DOM mutation event.</p>

<h2>Treat stubbed cordova as its own platform</h2>

<p>I&#8217;m doing a Phonegap/Cordova app and it&#8217;s been tricky settling on a
pattern for stubbing out the cordova library when I&#8217;m just running in
Chrome or anywhere not in the actual native cordova wrapper, and I think
I found the final solution: clone https://github.com/apache/cordova-js,
define a new platform with a fake exec, have the fake exec look up some
stubbed handlers that you can define in your app, (e.g.
<code>window._stubbedCordovaHandlers[blahblah]</code>) and basically leave it up to
your app to stub out all the native plugin services/actions. The effect
of all of this is that your index.html always loads a cordova.js (which
has some other conveniences like stick event handlers, pub sub channels,
etc) but you don&#8217;t have to have a bunch of conditionals asking whether
this is a stubbed version of the app or not.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-07-01T10:03:00-04:00" pubdate data-updated="true">Jul 1<span>st</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/29/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>DAS thangs</h2>

<p>Ctrl-Z suspends a task, but you can resume a task via <code>%1</code> or <code>%2</code>, etc,
referencing the number next to the job as displayed in <code>jobs</code>:</p>

<pre><code>[1]- suspended bleh
[2]+ suspended lol
[3]  suspended lol
</code></pre>

<p>You can also do <code>%-</code> and <code>%+</code>.</p>

<h3>Inline loops</h3>

<pre><code>while true; do echo "wat"; sleep 1; done
</code></pre>

<p>ctrl-z to suspend, <code>bg</code> to convert a suspended job to a background job.</p>

<p>Open the output of a command in <code>vim</code>: <code>echo woot | view -</code></p>

<ul>
<li><code>view</code> is a <code>vim -R</code> alias that opens in read-only mode</li>
<li><code>-</code> option reads the file from stdin</li>
</ul>


<p>The man page for <code>vim</code> / <code>view</code> mentions that commands are read from
stderror. So how would we run a command that reads input from stdin and
commands from stderr? TODO: this.</p>

<pre><code>machty.github.com :: &lt;(echo "wat")
-bash: /dev/fd/63: Permission denied
machty.github.com :: echo &lt;(echo "wat")
/dev/fd/63
</code></pre>

<p><code>&lt;()</code> will run a command and put its output in a file descriptor which
is file-like enough to work as an input to most commands. Gary&#8217;s example
is the &#8220;diff of diffs&#8221;, which is mostly useful to see if two branches
(e.g. one rebased and the other not) have the same content.</p>

<pre><code>diff -u &lt;(git diff master~5..master~1) &lt;(git diff master~4..master)
</code></pre>

<p>Can diff google com and fr, e.g.</p>

<pre><code>diff &lt;(curl www.google.com | tidy) &lt;(curl www.google.fr | tidy) | view -
</code></pre>

<p>This is stupidly cool. Another use case is diffing localhost w deployed
site.</p>

<h2>subterfuge</h2>

<p>I thought this word was a synonym for &#8220;plasma&#8221;, as in the liquid-y
filler part of blood that&#8217;s revealed when you spin blood in a
centrifuge. I think the centrifuge&#8217;s involvement in that tripped me up.</p>

<p>http://www.merriam-webster.com/dictionary/subterfuge</p>

<p>It actually just means</p>

<ul>
<li>deceit used in order to achieve one&#8217;s goal</li>
</ul>


<h2>Cordova My Mac 64-bit</h2>

<p>This was the only thing showing up after I changed the project name in
config.xml away from what I&#8217;d had it as when I first generated the iOS
platform. Remember this crap; I&#8217;m sure I&#8217;ll have to fight it again.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-29T19:29:00-04:00" pubdate data-updated="true">Jun 29<span>th</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/29/social-media-triggers/">
		
			Social Media Triggers</a>
	</h2>
	<div class="entry-content">
		<p>I&#8217;ve enjoyed about a week away from Twitter, and hope to prolong this
hiatus. Twitter isn&#8217;t consistent with a lot of the lifestyle
changes I&#8217;ve been nagging myself to make. Twitter is snack drawer
positioned arms-reach away from the bed of someone trying to maintain a
diet. It&#8217;s a total trigger for me to retrogress into class clown attention
whore behavior I&#8217;ve been exhibiting since I was 5. So I&#8217;m on a break.</p>

<p>Twitter encourages me to project a public facade of empty-headed
buffoonery fueled by zany sarcasm and Photoshop. The last few months,
I&#8217;ve had various opportunities to meet in person people who only know me
by this facade, and it&#8217;s draining and depressing to keep it up in
person.</p>

<p>So I&#8217;m on a break. I&#8217;ve rediscovered distraction-free boredom. And it&#8217;s
been glorious. I play music again. I sing. When I get frustrated in my
endeavors to improve at my hobbies or my crafts, I have one less
mindless outlet distracting me away from pushing through the difficult
moments. Maybe I&#8217;ll return to Twitter when I have an album to promote.
Or something worth talking about.</p>

<p>This is where I&#8217;m supposed to apologize for a serious post.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-29T19:00:00-04:00" pubdate data-updated="true">Jun 29<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/social-media/'>social media</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/20/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h2>Push Notifications</h2>

<p>Apple uses APNS (Apple Push Notification Service) and Android uses
GCM (Google Cloud Message). Compare/contrast:</p>

<p>Apple:
- Max payload size: 256 bytes
- When the app is inactive:
  - Read <code>aps</code> hash:</p>

<pre><code>- Display `alert`
- Play `sound`
- Update app's `badge` number
</code></pre>

<p>Android
- Max payload size: 4096 bytes
- Has no <code>badge</code> option
- Supports <code>collapse_key</code> to collapse identical messages, like &#8220;New
  Mail&#8221; messages, which only need to be responded to once, and require
  only one server fetch.</p>

<p>About payload size: this includes all the JSON padding. The smallest
message is an empty message, represented by the following payload:</p>

<pre><code>{"aps":{"alert":""}}
</code></pre>

<p>This is 20 chars/bytes, meaning you have 236 bytes left for a message.
But push notification payloads often include a badge number, and an
alert to play.</p>

<p>Source: <a href="http://stackoverflow.com/a/6308462/914123">this lovely SO</a></p>

<p><a href="https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService.html">From the docs</a>:</p>

<blockquote><p>If the target application isnâ€™t running when the notification
arrives, the alert message, sound, or badge value is played or
shown. If the application is running, the system delivers the
notification to the application delegate as an NSDictionary
object. The dictionary contains the corresponding Cocoa
property-list objects (plus NSNull).</p></blockquote>

<h2>DAS: Boundaries</h2>

<p>https://www.destroyallsoftware.com/talks/boundaries</p>

<p>Integration tests a scam because:
- if 50 conditionals in your app, 2<sup>50</sup> paths, and no way to
- as code grows, time of each test grows (due to more setup, DB stuff,
  etc)</p>

<h2><code>after_commit</code></h2>

<p>This is a hook available within <code>ActiveRecord::Base</code> subclasses
that let you run some code post-transaction. I was confused by this
because a lot of the examples made it seem like you could just
run a method called <code>after_commit</code> in controller code or something,
but nay.</p>

<p>Controller code isn&#8217;t run in a transaction; transactions are only
automatic within <code>.save</code>.</p>

<h2>Sidekiq serializers params via JSON.dump</h2>

<p>This answers my question as to whether symbolized keys are preserved
when passing hash args to a Sidekiq worker: JSON.dump turns string
keys into symbols.</p>

<h2>Difference between <code>Fiber#resume</code> and <code>transfer</code></h2>

<p>Both will transfer control to the fiber you call it on; the difference
is that if that new fiber calls yield, it</p>

<pre><code>f0 
  f1.resume
    Fiber.yield
</code></pre>

<p>FUCK! i don&#8217;t know. TODO come back to this.</p>

<p>Followup: transfer transfers control to another Fiber. The transfer-er
doesn&#8217;t necessarily expect to get returned to, so if the transfer-ee
yields, it&#8217;ll yield the value back to whoever spawned the transfer-er,
rather than return control back to the transfer-er. It&#8217;s mega fucking
confusing.</p>

<p>Also, you have to <code>require 'fiber'</code> to even use this shit.</p>

<h2>~~2.5 in js</h2>

<pre><code>~~2.5  // 2
~~2    //-3
~~-4.2 // 4
</code></pre>

<p>Removes everything to the right of the decimal point, so it&#8217;s like
Math.floor except Math.floor doesn&#8217;t remove stuff to the right of the
decimal point for negative numbers.</p>

<h2><code>void</code> operator</h2>

<p><code>void 0</code> or <code>void(0)</code> evaluates the expression and then returns
undefined. So I could do <code>void (anyNumberOfBullshits())</code> and it&#8217;d be
undefined. Compared to just writing undefined, it:</p>

<ul>
<li>works even if <code>undefined</code> (a variable) has been redefined</li>
<li>is shorter than writing <code>undefined</code></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-20T10:44:00-04:00" pubdate data-updated="true">Jun 20<span>th</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/03/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h3><code>&lt;base&gt;</code> tag</h3>

<p>From <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base">MDN</a>:</p>

<blockquote><p>The HTML Base Element (<code>&lt;base&gt;</code>) specifies the base URL to use for
all relative URLs contained within a document. There is maximum
one <code>&lt;base&gt;</code> element in a document.</p></blockquote>

<p>You can also specify the target for all links in the base tag. Crazy?</p>

<p>http://jsbin.com/tedik/1/edit</p>

<p>Note that it also supports values like &#8220;../&#8221;, which is how I got my
ember-cli tests.html to work when I got rid of the base url config.</p>

<h3>bootleg</h3>

<blockquote><p>(esp. of liquor, computer software, or recordings) made,
distributed, or sold illegally: bootleg cassettes | bootleg whiskey.</p></blockquote>

<h3>Ember proto CPs</h3>

<p>You can get the proto of an Ember class via <code>Klass.proto()</code> and
you can even invoke its CPs, but where are they cached? Answer: on the
meta of the prototype, and invoking the CP on an instance of that class
will not reuse that cache but rather use its own instance cache.</p>

<p>http://emberjs.jsbin.com/ucanam/5351/edit</p>

<p>Later realization: <em>obviously</em> it had to work this way. What, would all
instances just magically share the proto cached CP value? That&#8217;s
idiotic.</p>

<h3>CrossWalk</h3>

<p>Like Cordova but you get your own browser runtime, so no platform
browser discrepancies.</p>

<p>https://crosswalk-project.org/#documentation/about</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-03T11:57:00-04:00" pubdate data-updated="true">Jun 3<span>rd</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/31/daily-journal/">
		
			Daily Journal</a>
	</h2>
	<div class="entry-content">
		<h3>Git relative revisions</h3>

<pre><code>git checkout 08h398se~1 
</code></pre>

<h3>Lazy CPs stripped down examples</h3>

<p>Observing a CP requires consuming it with a get
before its observers will fire upon change:</p>

<p>http://emberjs.jsbin.com/ucanam/5200/edit</p>

<p>But, for some reason, future changes to that property
don&#8217;t fire that observer:</p>

<p>http://emberjs.jsbin.com/ucanam/5203/edit</p>

<p>This is because firing the observer tears down the chain
nodes unless they&#8217;re activated again by future gets:</p>

<p>http://emberjs.jsbin.com/ucanam/5204/edit</p>

<p>But firing the observer tears down the chain
nodes, so future fires also need to be preceded by
a get to make the observer alive again:</p>

<p>http://emberjs.jsbin.com/ucanam/5201/edit</p>

<p>http://emberjs.jsbin.com/ucanam/5198/edit</p>

<pre><code>// CRUCIAL REALIZATION!!!! THIS IS HOW OBSERVERS
// STAY LIVE IN VIEWS; RE-RENDERED METAMORPH TEMPLATES
// CALL .get() to get the LATEST VALUE OF THE FUCK.
// BUT GENERALLY SPEAKING YOU JUST NEED TO CALL .GET()
// ON THE THING TO MAKE IT ALIVE AGAIN!
http://emberjs.jsbin.com/ucanam/5208/edit



/*
Ember.addObserver(pojo, 'foo', function() {
  console.log('foo observer fired');
});
*/



// These additional changes
// don't fire the fooAlias
// observer, unless we continue
// consuming (uncomment the stuff)
//Ember.get(pojo, 'fooAlias');
Ember.set(pojo, 'foo', 7);
//Ember.get(pojo, 'fooAlias');
Ember.set(pojo, 'foo', 8);
</code></pre>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-31T13:03:00-04:00" pubdate data-updated="true">May 31<span>st</span>, 2014</time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/31/ember-meta/">
		
			Ember Meta</a>
	</h2>
	<div class="entry-content">
		<h3>Ember Meta</h3>

<p><em>This will start off in my typical meandering daily journal form and
hopefully evolve into something good enough for an ARCHITECTURE.md</em></p>

<p>Ember&#8217;s internals make heavy use of meta objects, which are generated
and attached to objects in order to keep track of bindings, computed
properties, observers, and all sorts of other things evolving Ember magic.</p>

<h4><code>EMPTY_META</code></h4>

<p><code>EMPTY_META</code> is a default, empty meta object that represents an object
with no observers, bindings, or computed properties.</p>

<p><code>Ember.meta</code> is the function that takes an object and returns its meta
object; asking Ember.meta for a read-only meta object for a POJO
will return <code>Ember.EMPTY_META</code></p>

<pre><code>Ember.meta({}, false) === Ember.EMPTY_META // true

http://emberjs.jsbin.com/ucanam/5173/edit
</code></pre>

<p>This is an optimization that lets us pretend as if every object in
Emberland had a meta object, simplifying our binding/observer algorithms
while not wastefully generating meta objects for objects that don&#8217;t need
their own separate copies. It&#8217;s a form of copy-on-write.</p>

<pre><code>var pojo = {
  foo: 'wat'
};

console.assert(Ember.meta(pojo, false) === Ember.EMPTY_META);

// Add a computed property, which requires writing to meta.
Ember.defineProperty(pojo, 'fooAlias', Ember.computed.alias('foo'));

console.assert(Ember.get(pojo, 'foo') === 'wat');

var newMeta = Ember.meta(pojo, false)

console.assert(newMeta !== Ember.EMPTY_META);

// http://emberjs.jsbin.com/ucanam/5176/edit
</code></pre>

<h4><code>META_DESC</code></h4>

<p>This is the ES5 descriptor for the property stashed on an object that
points to its meta object:</p>

<pre><code>{
  writable: true,
  configurable: false,
  enumerable: false,
  value: null
};
</code></pre>

<p>This makes the property non-enumerable, which is why the meta object
won&#8217;t show up when iterating over an object with <code>for..in</code>.</p>

<h4>Meta obj structure</h4>

<p><code>EMPTY_META</code> is just <code>new Meta(null)</code>, and here&#8217;s the meta structure:</p>

<pre><code>Meta.prototype = {
  // Set to {} by constructor

    // dictionary of all Ember.Descriptor properties
    // defined on for the obj, e.g computed properties
    descs: null,    

    // dictionary of properties on the object that are
    // being observed, where the key is the observed
    // property name and the value is the number of
    // active observers of this property.
    // e.g. meta.watching.foo === 2 means that two
    // observers are watching obj.foo for changes.
    watching: null,

    // TODO
    cache: null,

    // TODO
    cacheMeta: null,

    // The owner of this meta object; important to keep track
    // of because when prototypal inheritance is involved, a
    // child object will initially point to the same meta obj
    // as its prototype, even though they should have separate
    // meta obj. `Ember.meta()` detects this by checking to see
    // if meta.source equals the passed in object, and if not,
    // it generates a new meta object
    source: null,

  // Left as null by constructor
  deps: null,
  listeners: null,
  mixins: null,
  bindings: null,
  chains: null,
  chainWatchers: null,
  values: null,

  // The prototype of source
  //   meta.proto.isPrototypeOf(meta.source) // true


  proto: null
};

//    ret = o_create(ret);
//    ret.descs     = o_create(ret.descs);

// why is this o_create? 
// if proto.foo is being watched, and obj.foo is overwritten
// to some other value, then it's definitely disconnected at
// that point, right? Even if it's not overwritten, if you have
// 
// proto = {
// }
// 
//    ret.watching  = o_create(ret.watching);
//    ret.cache     = {};
//    ret.cacheMeta = {};
//    ret.source    = obj;

// TODO: categorize this realization
// removeDependentKeys calls iterDeps, which loops
// over deps[propName] &gt; 0,
// and then the cp.didChange method decrements
// the deps in the meta in removeDependentKeys();
// this method is called in two places:
// - didChange()
// - teardown()
// 
// note that it doesn't do this for non-cacheables CPs.
</code></pre>

<p>If CP#didChange removes dependent keys, who adds it back in template situations?
The view that was installed will call get() on that CP, and .get() on a cacheable property will call addDependentKeys</p>

<p>So the rule is that if you want an observer be/stay alive, you need to
call get on that changed prop. AH HA.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-31T07:27:00-04:00" pubdate data-updated="true">May 31<span>st</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/ember-metal/'>ember-metal</a>

</div>


	
</div></article>

<nav id="pagenavi">
    
        <a href="/blog/page/6/" class="prev">Prev</a>
    
    
        <a href="/blog/page/8/" class="next">Next</a>
    
    <div class="center"><a href="/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2017

    Alex Matchneer

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'usefuldude';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-49928757-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>

